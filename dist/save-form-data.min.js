!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.SaveFormData=t()}("undefined"!=typeof window?window:this,function(){return function(e){var t=Object.assign({},{form_selector:"",storage_key:null,auto_restore:!0,auto_save:!0},e),o=document.querySelector(t.form_selector);if(o){var r=t.storage_key||"SaveFormData_"+t.form_selector;return t.auto_restore&&n(),t.auto_save&&(o.addEventListener("input",a),o.addEventListener("change",a)),{save:a,restore:n,clear:c,reset:function(){c(),o.reset()}}}function a(){var e={};o.querySelectorAll("input, select, textarea").forEach(function(t){t.name&&("radio"===t.type?t.checked&&(e[t.name]=t.value):"checkbox"===t.type?(e[t.name]||(e[t.name]=[]),t.checked&&e[t.name].push(t.value)):e[t.name]=t.value)}),localStorage.setItem(r,JSON.stringify(e))}function n(){var e=localStorage.getItem(r);if(e){var t=JSON.parse(e);Object.keys(t).forEach(function(e){o.querySelectorAll('[name="'+e+'"]').forEach(function(o){"radio"===o.type||"checkbox"===o.type?Array.isArray(t[e])?o.checked=t[e].includes(o.value):o.checked=o.value===t[e]:o.value=t[e]})})}}function c(){localStorage.removeItem(r)}console.error("SaveFormData: form not found")}});